import{r as y,a as z}from"./index-ca9217af.js";const T=new Map,O=new WeakMap;let C=0,W;function q(e){return e?(O.has(e)||(C+=1,O.set(e,C.toString())),O.get(e)):"0"}function D(e){return Object.keys(e).sort().filter(s=>e[s]!==void 0).map(s=>`${s}_${s==="root"?q(e.root):e[s]}`).toString()}function F(e){let s=D(e),f=T.get(s);if(!f){const c=new Map;let g;const l=new IntersectionObserver(u=>{u.forEach(t=>{var r;const d=t.isIntersecting&&g.some(b=>t.intersectionRatio>=b);e.trackVisibility&&typeof t.isVisible>"u"&&(t.isVisible=d),(r=c.get(t.target))==null||r.forEach(b=>{b(d,t)})})},e);g=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),f={id:s,observer:l,elements:c},T.set(s,f)}return f}function G(e,s,f={},c=W){if(typeof window.IntersectionObserver>"u"&&c!==void 0){const r=e.getBoundingClientRect();return s(c,{isIntersecting:c,target:e,intersectionRatio:typeof f.threshold=="number"?f.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),()=>{}}const{id:g,observer:l,elements:u}=F(f);let t=u.get(e)||[];return u.has(e)||u.set(e,t),t.push(s),l.observe(e),function(){t.splice(t.indexOf(s),1),t.length===0&&(u.delete(e),l.unobserve(e)),u.size===0&&(l.disconnect(),T.delete(g))}}function H({threshold:e,delay:s,trackVisibility:f,rootMargin:c,root:g,triggerOnce:l,skip:u,initialInView:t,fallbackInView:r,onChange:d}={}){var b;const[p,$]=y.useState(null),S=y.useRef(),[w,M]=y.useState({inView:!!t,entry:void 0});S.current=d,y.useEffect(()=>{if(u||!p)return;let x;return x=G(p,(V,R)=>{M({inView:V,entry:R}),S.current&&S.current(V,R),R.isIntersecting&&l&&x&&(x(),x=void 0)},{root:g,rootMargin:c,threshold:e,trackVisibility:f,delay:s},r),()=>{x&&x()}},[Array.isArray(e)?e.toString():e,p,g,c,l,u,f,r,s]);const I=(b=w.entry)==null?void 0:b.target,E=y.useRef();!p&&I&&!l&&!u&&E.current!==I&&(E.current=I,M({inView:!!t,entry:void 0}));const h=[$,w.inView,w.entry];return h.ref=h[0],h.inView=h[1],h.entry=h[2],h}function K({children:e,preloadComponent:s,positionAbsolute:f,className:c,delay:g,threshold:l,triggerOnce:u,transition:t,moveAnimation:r,opacityAnimation:d,blurAnimation:b}){var E,h,x,V,R,_,j,B;const{ref:p,inView:$}=H({delay:g||null,threshold:l||0,triggerOnce:u==!0?u:!1}),S={transition:`${t}s all ease-out`},w={left:r!=null&&r.left?$?`${(E=r==null?void 0:r.left)==null?void 0:E.to}px`:`${(h=r==null?void 0:r.left)==null?void 0:h.from}px`:null,right:r!=null&&r.right?$?`${(x=r==null?void 0:r.right)==null?void 0:x.to}px`:`${(V=r==null?void 0:r.right)==null?void 0:V.from}px`:null,top:r!=null&&r.top?$?`${(R=r==null?void 0:r.top)==null?void 0:R.to}px`:`${(_=r==null?void 0:r.top)==null?void 0:_.from}px`:null,bottom:r!=null&&r.bottom?$?`${(j=r==null?void 0:r.bottom)==null?void 0:j.to}px`:`${(B=r==null?void 0:r.bottom)==null?void 0:B.from}px`:null},M={opacity:d?$?`${d==null?void 0:d.to}`:`${d==null?void 0:d.from}`:null},I={filter:b?$?`blur(${b.to}px)`:`blur(${b.from}px)`:null};return z("div",{ref:p,className:c||null,style:{position:f?"absolute":"relative",...S,...w,...M,...I},children:s?$?e:s:e})}export{K as A};
